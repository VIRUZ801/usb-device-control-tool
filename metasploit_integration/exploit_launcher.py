import logging
from metasploit_integration.ms_connector import MSFConnector

logger = setup_logger()

class ExploitLauncher:
    def __init__(self, msf_connector):
        self.msf_connector = msf_connector

    def launch_exploit(self, exploit_name, target):
        try:
            result = self.msf_connector.client.call('module.execute', 'exploits', exploit_name, target)
            logger.info(f"Launched exploit: {exploit_name} against {target}")
            return result
        except Exception as e:
            logger.error(f"Failed to launch exploit: {str(e)}")
            return None
